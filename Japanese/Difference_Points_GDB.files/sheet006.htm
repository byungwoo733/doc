<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:x="urn:schemas-microsoft-com:office:excel"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name=ProgId content=Excel.Sheet>
<meta name=Generator content="Microsoft Excel 15">
<link id=Main-File rel=Main-File href="../Difference_Points_GDB.htm">
<link rel=File-List href=filelist.xml>
<link rel=Stylesheet href=stylesheet.css>
<style>
<!--table
	{mso-displayed-decimal-separator:"\.";
	mso-displayed-thousand-separator:"\,";}
@page
	{margin:.75in .7in .75in .7in;
	mso-header-margin:.3in;
	mso-footer-margin:.3in;}
-->
</style>
<![if !supportTabStrip]><script language="JavaScript">
<!--
function fnUpdateTabs()
 {
  if (parent.window.g_iIEVer>=4) {
   if (parent.document.readyState=="complete"
    && parent.frames['frTabs'].document.readyState=="complete")
   parent.fnSetActiveSheet(5);
  else
   window.setTimeout("fnUpdateTabs();",150);
 }
}

if (window.name!="frSheet")
 window.location.replace("../Difference_Points_GDB.htm");
else
 fnUpdateTabs();
//-->
</script>
<![endif]>
</head>

<body link="#4575FD" vlink="#9E5ECE">

<table border=0 cellpadding=0 cellspacing=0 width=896 style='border-collapse:
 collapse;table-layout:fixed;width:672pt'>
 <col class=xl81 width=35 style='mso-width-source:userset;mso-width-alt:995;
 width:26pt'>
 <col width=33 style='mso-width-source:userset;mso-width-alt:938;width:25pt'>
 <col class=xl104 width=31 style='mso-width-source:userset;mso-width-alt:881;
 width:23pt'>
 <col width=33 style='mso-width-source:userset;mso-width-alt:938;width:25pt'>
 <col width=569 style='mso-width-source:userset;mso-width-alt:16184;width:427pt'>
 <col width=80 style='width:60pt'>
 <col width=115 style='mso-width-source:userset;mso-width-alt:3271;width:86pt'>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl82 colspan=5 width=701 style='height:18.75pt;
  mso-ignore:colspan;width:526pt'><a name="RANGE!A1">「アドバンスオフ」モードの設定の仕方</a></td>
  <td width=80 style='width:60pt'></td>
  <td width=115 style='width:86pt'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl82 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td colspan=4 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl82 style='height:18.75pt'></td>
  <td colspan=6 style='mso-ignore:colspan'>このシートでは、GDBを使用して、VEプログラムをアドバンスオフモードで実行するための説明がされています。</td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl82 style='height:18.75pt'></td>
  <td colspan=4 style='mso-ignore:colspan'>このモードでは前回の命令が完了するまで命令実行が保留されます。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl82 style='height:18.75pt'></td>
  <td colspan=4 style='mso-ignore:colspan'>その結果、GDBはHW例外が生じるときの正確な状態を示します。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl82 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td colspan=4 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td colspan=4 style='mso-ignore:colspan'>「アドバンスオフ」モードはGDBでは下記の手順により設定されます。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl105>1.</td>
  <td colspan=2 style='mso-ignore:colspan'>ブレイクポイントをメイン()ファンクションに設定します。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104>2.</td>
  <td class=xl81 colspan=2 style='mso-ignore:colspan'>VEプログラムを実行します。VEプログラムはメイン()ファンクションで停止します。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104>3.</td>
  <td class=xl81 colspan=2 style='mso-ignore:colspan'>PSWレジスタのアドバンスオフモードビットを設定します。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl106>set $psw=($psw | 0x8000000000000000)</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104>4.</td>
  <td class=xl81 colspan=2 style='mso-ignore:colspan'>VEプログラムを継続します。</td>
  <td colspan=2 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td colspan=4 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td colspan=4 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td class=xl81>例:</td>
  <td class=xl104></td>
  <td colspan=4 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl81 colspan=2 style='mso-ignore:colspan'>(注意)
  　&quot;segfaut_g&quot;はセグメンテーションフォルトを引き起こすVEプログラムです</td>
  <td></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td colspan=4 style='mso-ignore:colspan'></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl107>$ /opt/nec/ve/bin/gdb segfault_g</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>GNU gdb (GDB) 7.11.1-1.ve</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Copyright (C) 2016 Free Software Foundation, Inc.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>License GPLv3+: GNU GPL version 3 or later
  &lt;http://gnu.org/licenses/gpl.html&gt;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>This is free software: you are free to change and
  redistribute it.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>There is NO WARRANTY, to the extent permitted by law.<span
  style='mso-spacerun:yes'>  </span>Type &quot;show copying&quot;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>and &quot;show warranty&quot; for details.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>This GDB was configured as &quot;--host=x86_64-pc-linux-gnu
  --target=ve-nec-linux&quot;.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Type &quot;show configuration&quot; for configuration
  details.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>For bug reporting instructions, please see:</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>&lt;http://www.gnu.org/software/gdb/bugs/&gt;.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Find the GDB manual and other documentation resources online
  at:</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>&lt;http://www.gnu.org/software/gdb/documentation/&gt;.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>For help, type &quot;help&quot;.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Type &quot;apropos word&quot; to search for commands related
  to &quot;word&quot;...</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Reading symbols from ve_bin/bin/segfault_g...done.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>(gdb) break main</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Breakpoint 1 at 0x600000000690: file segfault.c, line 6.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>(gdb) run</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Starting program: /opt/nec/ve/bin/ve_exec --traceme<span
  style='mso-spacerun:yes'>  </span>-- /home/veuser/segfault_g</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl109>&nbsp;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Breakpoint 1, main () at segfault.c:6</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>6<span style='mso-spacerun:yes'>       </span>{</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>(gdb) set $psw=($psw | 0x8000000000000000)</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>(gdb) c</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Continuing.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Hello, I am 43754</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl109>&nbsp;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>Program received signal SIGSEGV, Segmentation fault.</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>main () at segfault.c:22</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>22<span style='mso-spacerun:yes'>             
  </span>printf(&quot;val3 %d\n&quot;, val3);</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>(gdb) list</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>17<span style='mso-spacerun:yes'>              </span>val2 =
  3;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>18<span style='mso-spacerun:yes'>              </span>val3 =
  val2 + val1;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>19<span style='mso-spacerun:yes'>              </span>val4p =
  NULL;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>20<span style='mso-spacerun:yes'>              </span>*val4p
  = val3;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>21</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>22<span style='mso-spacerun:yes'>             
  </span>printf(&quot;val3 %d\n&quot;, val3);</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl108>23<span style='mso-spacerun:yes'>              </span>return
  0;</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <tr height=25 style='height:18.75pt'>
  <td height=25 class=xl81 style='height:18.75pt'></td>
  <td></td>
  <td class=xl104></td>
  <td></td>
  <td class=xl110>24<span style='mso-spacerun:yes'>      </span>}</td>
  <td></td>
  <td class=xl104></td>
 </tr>
 <![if supportMisalignedColumns]>
 <tr height=0 style='display:none'>
  <td width=35 style='width:26pt'></td>
  <td width=33 style='width:25pt'></td>
  <td width=31 style='width:23pt'></td>
  <td width=33 style='width:25pt'></td>
  <td width=569 style='width:427pt'></td>
  <td width=80 style='width:60pt'></td>
  <td width=115 style='width:86pt'></td>
 </tr>
 <![endif]>
</table>

</body>

</html>
